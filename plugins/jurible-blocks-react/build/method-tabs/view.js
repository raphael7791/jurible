document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".wp-block-jurible-method-tabs").forEach(t=>{!function(t){const e=t.querySelectorAll(".method-tabs__tab"),s=t.querySelectorAll(".method-tabs__panel");e.forEach(t=>{t.addEventListener("click",function(){const t=this.getAttribute("data-tab-index");e.forEach(t=>{t.classList.remove("is-active"),t.setAttribute("aria-selected","false")}),this.classList.add("is-active"),this.setAttribute("aria-selected","true"),s.forEach(e=>{e.getAttribute("data-panel-index")===t?(e.classList.add("is-active"),e.setAttribute("aria-hidden","false")):(e.classList.remove("is-active"),e.setAttribute("aria-hidden","true"))})}),t.addEventListener("keydown",function(t){const s=parseInt(this.getAttribute("data-tab-index"));let i;switch(t.key){case"ArrowRight":i=s+1,i>=e.length&&(i=0),e[i].focus(),e[i].click(),t.preventDefault();break;case"ArrowLeft":i=s-1,i<0&&(i=e.length-1),e[i].focus(),e[i].click(),t.preventDefault();break;case"Home":e[0].focus(),e[0].click(),t.preventDefault();break;case"End":e[e.length-1].focus(),e[e.length-1].click(),t.preventDefault()}})})}(t),function(t){t.querySelectorAll(".qcm-option").forEach(t=>{t.addEventListener("click",function(){const t=this.closest(".method-tabs__qcm");if(t&&t.classList.contains("is-answered"))return;t&&t.classList.add("is-answered"),this.parentElement.querySelectorAll(".qcm-option").forEach(t=>{t.classList.add("is-disabled"),"true"===t.getAttribute("data-correct")?t.classList.add("is-correct"):t===this&&"true"!==t.getAttribute("data-correct")&&t.classList.add("is-incorrect")});const e=t?t.querySelector(".qcm-feedback"):null;if(e){const t="true"===this.getAttribute("data-correct");e.classList.add("is-visible"),e.classList.add(t?"is-correct":"is-incorrect"),e.textContent=t?"Bonne réponse !":"Mauvaise réponse. La bonne réponse est indiquée en vert."}})})}(t),function(t){t.querySelectorAll(".method-tabs__fc-card").forEach(e=>{e.addEventListener("click",function(){this.classList.toggle("is-flipped");const e=t.querySelector(".method-tabs__fc-actions");e&&(this.classList.contains("is-flipped")?e.classList.add("is-visible"):e.classList.remove("is-visible"))}),e.addEventListener("keydown",function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.click())})})}(t)})});